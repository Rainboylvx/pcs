---
_id: "luogu-P1868"
title: "饥饿的奶牛"
date: 2023-08-12 17:43
update: 2023-08-12 17:43
author: Rainboy
tags:
    - 线性dp
source: 
    - 
      oj: luogu-P1868
      url: https://www.luogu.com.cn/problem/P1868
---

@[toc]

## 题目



### 题目描述

有一条奶牛冲出了围栏，来到了一处圣地（对于奶牛来说），上面用牛语写着一段文字。

现用汉语翻译为：

有 $N$ 个区间，每个区间 $x,y$ 表示提供的 $x\sim y$ 共 $y-x+1$ 堆优质牧草。你可以选择任意区间但不能有重复的部分。

对于奶牛来说，自然是吃的越多越好，然而奶牛智商有限，现在请你帮助他。



### 输入格式
第一行一个整数 $N$。

接下来 $N$ 行，每行两个数 $x,y$，描述一个区间。



### 输出格式

输出最多能吃到的牧草堆数。



### 样例



输入/输出 # 1

::: line
```
3
1 3
7 8
3 4
```

```
5
```
:::





### 说明/提示
$1 \leq n \leq 1.5 \times 10^5$，$0 \leq x \leq y \leq 3 \times 10^6$。


## 解析

题目大意: 有多个区间,每个区间都有一个值,不能选重合的区间,问最大值是什么

显然可以想到,对于每个区间,要么选,要么不选,

显然要按坐标来考虑

`f[i]` 表示i以为结尾,的前面的,`[1,i]`之间的最大值

- 要么是不选以i为结尾的区间,那就是`f[i-1]`
- 要么就选一个以i为结尾的区间,那就是`f[l-1] + a[x].r - a[x]+l+1`,x表示以第i个点为结尾的区间

最浪费时间的就是查找以i为结尾的区间有哪些

- 方法1,暴力,`O(n)`
- 方法2,`linklist`,使用数据结构
- 方法3,把区间按结尾排序,然后使用二分,这个方法,如果全部使用stl的算法,可以在三行内解决

## 代码

```c
<%- include("1.cpp") %>
```

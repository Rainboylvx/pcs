---
_id: "luogu-P1045"
title: "[NOIP2003 普及组] 麦森数"
date: 2023-07-10 14:34
update: 2023-07-10 14:34
author: Rainboy
tags:
    - 高精度
    - 数学
    - 普及组
source: 
    - 
      oj: luogu
      url: https://www.luogu.com.cn/problem/P1045
---

@[toc]

## 题目



### 题目描述

形如 $2^{P}-1$ 的素数称为麦森数，这时 $P$ 一定也是个素数。但反过来不一定，即如果 $P$ 是个素数，$2^{P}-1$ 不一定也是素数。到 1998 年底，人们已找到了 37 个麦森数。最大的一个是 $P=3021377$，它有 909526 位。麦森数有许多重要应用，它与完全数密切相关。

任务：输入 $P(1000<P<3100000)$，计算 $2^{P}-1$ 的位数和最后 $500$ 位数字（用十进制高精度数表示）




### 输入格式
文件中只包含一个整数 $P(1000<P<3100000)$




### 输出格式

第一行：十进制高精度数 $2^{P}-1$ 的位数。

第 $2\sim 11$ 行：十进制高精度数 $2^{P}-1$ 的最后 $500$ 位数字。（每行输出 $50$ 位，共输出 $10$ 行，不足 $500$ 位时高位补 $0$）

不必验证 $2^{P}-1$ 与 $P$ 是否为素数。




### 样例



输入/输出 # 1

::: line
```
1279

```

```
386
00000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000
00000000000000104079321946643990819252403273640855
38615262247266704805319112350403608059673360298012
23944173232418484242161395428100779138356624832346
49081399066056773207629241295093892203457731833496
61583550472959420547689811211693677147548478866962
50138443826029173234888531116082853841658502825560
46662248318909188018470682222031405210266984354887
32958028878050869736186900714720710555703168729087

```
:::





### 说明/提示
**【题目来源】**

NOIP 2003 普及组第四题


一个进制的数怎么去求位数,显然100,有两位置,因为`log_10(100) == 2`

所以任意一个进制的数,它的位数是`log_10(x)`,所以需要求`log_10(2^p)`

又根据换底公式,`log_10(2^p) = log_2(2^p) / log_2(10)`,也就是`p/log_2(10)`


再根据换底公式,那么`log_2(10) == log_10(10)/log_10(2) = 1/log_10(2)`

而`log10`,在`<cmath>`头文件里有 https://cplusplus.com/reference/cmath/log/

所以最终的位数为`p x log_10(2)`

## 解析

首先求$2^p-1$的位数,


我们写下了第一版本的代码,超时,得到60

## 代码

```c
<%- include("1.cpp") %>
```

## 代码2

于是我们改进我们的代码,如下
,我们利用类似的快速幂的思想来做,这个题目,类似于高精度乘以高精度的算法
,但是可以每一个次进季乘以一个`2^20`,代替每一次乘以2,来加快我们单精度乘高
精度的运行.


代码不想写了,因为没有什么意思,就是一个体力活.

```c
TODO
```

---
_id: "luogu-P2239"
title: "[NOIP2014 普及组] 螺旋矩阵"
date: 2023-07-27 17:10
update: 2023-07-27 17:10
author: Rainboy
tags:
    - 
source: 
    - 
      oj: luogu
      url: https://www.luogu.com.cn/problem/P2239
---

@[toc]

## 题目

### 题目背景 
NOIP2014 普及组 T3



### 题目描述

一个 $n$ 行 $ n$ 列的螺旋矩阵可由如下方法生成：


从矩阵的左上角（第 $1$ 行第 $1$ 列）出发，初始时向右移动；如果前方是未曾经过的格子，则继续前进，否则右转；重复上述操作直至经过矩阵中所有格子。根据经过顺序，在格子中依次填入 $1, 2, 3, ... , n^2$，便构成了一个螺旋矩阵。


下图是一个 $n = 4$ 时的螺旋矩阵。

$$\begin{pmatrix}
 1 &    2  &   3   &  4 \\
12 &   13  &  14   &  5 \\
11 &   16  &  15   &  6 \\
10 &    9  &   8   &  7 \\
\end{pmatrix}$$

现给出矩阵大小 $n$ 以及 $i$ 和 $j$，请你求出该矩阵中第 $i$ 行第 $j$ 列的数是多少。




### 输入格式
共一行，包含三个整数 $n$, $i$, $j$，每两个整数之间用一个空格隔开，分别表示矩阵大小、待求的数所在的行号和列号。




### 输出格式

一个整数，表示相应矩阵中第 $i$ 行第 $j$ 列的数。




### 样例



输入/输出 # 1

::: line
```
4 2 3
```

```
14
```
:::





### 说明/提示
【数据说明】

对于 $50\%$ 的数据，$1 \leqslant n \leqslant 100$;

对于 $100\%$ 的数据，$1 \leqslant n \leqslant 30,000,1 \leqslant i \leqslant n,1 \leqslant j \leqslant n$。



## 解析

显然`50%`,暴力求出这个矩阵(填数,dfs)就可以了

对`100%`,那么显然是一个找规律的题目,仔细认真的找规律(这个时候,一个好的草稿,可以让我们的思路清晰),且找规律的方向很重要.

一个好的找规律的方向,可以减少我们思考的过程

```
****
****
**** = 4xn-4  = 4x4-4= 12
****

***
***  = 4x3-4 = 8
***

** 4x2-4 = 4
**

* = 1
```

可以一圈一圈的向里找

- 第1圈: $4 \times n -2$个元素 
- 第2圈: 相于一个$(n-2)^2$的矩阵,有`4 \times x - 2个元素,x = (n-2)^2`

这样可以得到每一圈的元素的个数,就可以得到每一个矩阵的左上角的值,
也可以知道目标坐标,是否在这个圈子上

当我们查到目标在哪个圈子上的时候,可以通过枚举得到这个目标坐标的对应的值

## 代码

```c
<%- include("1.cpp") %>
```

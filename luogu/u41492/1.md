---
_id: 82160d0178
title: 1
date: 2019-11-27 02:34
update: 2019-11-27 02:34
author: Rainboy
cover: 
tags:
    - tag1
catalog: catalog1
source: 
    - 
      oj: oj
      url: url
---

@[toc]
## 题目: 树上颜色

题目地址:[luogu U41492 树上数颜色](https://www.luogu.com.cn/problem/U41492)

[数据生成py程序](./data/u41492.py)

## 解析

显然题目符合:

1. 只有对子树的询问
2. 没有修改

明显可以用$dsu on tree$ 在$logn$的时间内算出答案

核心载入统计信息:

1. 先递归轻儿子,然后重儿子
2. 统计是,如果一个颜色的数量为0,表明第一次出现,计数+1
3. 回溯出点u时,如果u是轻儿子,**清空记录值**

## 代码

```c
<%- include("1.cpp") %>
```


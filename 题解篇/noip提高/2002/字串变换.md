---
_id: "noip2002-tg-t2"
title: T2-字串变换
date: 2019-03-27 16:28
update: 2019-03-27 16:28
author: Rainboy
---


## 代码

```c
/*
*   (@)                 
*   |-|----------------------------------------------
*   | |
*   |-|  时间: 2019/3/20 下午6:05:29
*   | |  作者: rainboy
*   |-|  题目: 3517-[NOIP2002-提高] 字串变换
*   | |                 
*   |_|----------SLIME-ONLINE-JUDGE--------- ༼◉‿◉ ༽
*   (@)
*/
#include <queue>
#include <cstdio>
#include <iostream>
#include <cstring>
#include <string>
#include <map>
using namespace std;


map<string,bool> vis;

string A,B;
int cnt=0;
string rep[1000][2];


void init(){
    cin >> A >>B;

    cnt++;
    while( cin>> rep[cnt][0] >> rep[cnt][1]){
        cnt++;
    }
}


struct _s {
    string a;
    int s;
};


int find(string &s,string &sub,int start){
    return s.find(sub,start);
}

queue<_s> q;
void bfs(){
    q.push({A,0});
    vis[A] = 1;

    while(!q.empty()){

        _s u = q.front();
        q.pop();

        if(u.s > 10){
            cout << "NO ANSWER!";
            return;
        }

        /* 开始变换 */
        int i,j;
        string &str = u.a;
        for(i=1;i<cnt;i++){
            int size = str.size();
            for(j=0;j<size;){ //存在多个子串
                size_t pos = str.find(rep[i][0],j);
                
                if( pos == str.npos) //结尾
                    break;
                /* 变换 */
                string _new(str);
                _new.replace(pos,rep[i][0].size(),rep[i][1]);
                if( _new == B){
                    //cout << str << "   " << rep[i][0] <<  "  " << rep[i][1] << "   " <<  _new << "  " << u.s+1<< endl;
                    cout << u.s+1 ;
                    return ;
                }
                /* 是否出现过 */
                if(vis[_new] == 0){
                    /* 加入队列 */
                    //cout << str << "   " << rep[i][0] <<  "  " << rep[i][1] << "   " <<  _new << "  " << u.s+1<< endl;


                    q.push({_new,u.s+1});
                    vis[_new] = 1;
                }

                j = pos+1;
            }
        }
    }
    cout << "NO ANSWER!";

}

int main(){
    init();
    bfs();
    return 0;
}

```


---
_id: "aoj-2843"
title: "括号序列"
date: 2020-04-30 13:46
update: 2020-04-30 13:46
author: Rainboy
tags:
    - 递归
    - 2019安徽省程序设计竞赛
catalog: 递归
source: 
    - 
      oj: AOJ
      url: https://acm.webturing.com/problem.php?id=2843
---

@[toc]
## 分析

额~,:rage: :sob:,真的想骂人啊,这个破网站,竟然没有写题目的数据范围,害的代码写了改,改了写.

数据范围如下:

```
输入的第一行是 N 和 M
2 <= N <= 2000
1 <= M <= 10^18
```

这么大的数据,肯定不能通过,生成排列的方式给出,所以肯定可以构造,所以肯定有规律,经过仔细的查看数据,发现规律如下.

```
f[6][3] = 1
f[6][2] = f[6][3] + f[4][1]
f[6][1] = f[6][2] + f[4][0]

f[4][0] = f[4][1]

f[i][j] 表示开头为j个'('的数量
sum[i][j] = \sum_{i/2}{j} f[i][j]
sum[i][0] = sum[i][1]

f[i][j] = sum[i][j-1]
```

找规律,下面是8的所有可能,使用`next_permutation`生成,代码见附录
```
(((())))

((()()))    ((()))  这个和6有关,d[6][2]
((())())    (()())
((()))()    (())()

(()(()))    ((()))  这个就是6
(()()())    (()())    =>f[8][2] = sum[6][1]
(()())()    (())()
(())(())    ()(())
(())()()    ()()()

()((()))        => f[8][1] = sum[6][0]
()(()())
()(())()
()()(())
()()()()
```



## 代码

```c
<%- include("1.cpp") %>
```

## 附录

排序生成.

::: fold
```c
<%- include("d1.cpp") %>
```
:::

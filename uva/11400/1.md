---
title: "uva-11400 Lighting System Design(照明系统设计)"
level: 4
author: rainboy
date: 2019-05-22 17:21
update: 2019-05-22 17:21
tags:
    - uva
    - 紫书
    - 思维
    - 《算法竞赛入门经典》
    - 动态规划
    - 线型DP
source:
    - 
      oj: uva
      url: https://vjudge.net/problem/UVA-11400
---

## 解析

### 第一点

**应该对数据按$V$进行从小到大排序**

### 第二点

**对于某种电源的灯泡,要么全部买,要么全部不买.**,证明如下:

```plaintext
+---------+
|         |
|         v
O---------O
1         2
```

如上图,如果有两种灯泡,那么总的花费应该如下公式$1$:
```plaintext
1:k1+l1*c1
2:k2+l2*c2
```

如果可以把$1$个$1$种类的灯泡用$1$个$2$种类的灯泡替代,然后总体的花费减少了,那么现在得到总花费为如下公式$2$

```plaintext
1:k1+(l1-1)*c1
2:k2+l2*c2  + c2
```

综合公式$1$和$2$,如果总体花费减少了,可以发现$c1 > c2$成立.

根据上面的公式应该能想到,如果拿出一个1种类的灯泡会减少,那再拿一个应该还会减少,所以根据贪心的思想,全部拿走应该减少的最多!

还有一种情况,那就是把一个种类1的灯泡替换成种类2,但是花费变大,也就是$c1 < c2$,但是$k_1$很大(想一想$k1=inf$)

### 第三点

**如果第i种灯泡(排序后)全部用第j种灯泡替换,那么区间[i+1,j-1]的所有的灯泡都会用第j种灯泡替换**

```plaintext
+-------------------+         +-------------------+
|                   |         |                   |
|                   v         |                   |
O---------O---------O---------O---------O---------O
1         2         3
```

如上图:如果1类灯泡用3来替换,那么2可以来用替换吗?

想一想,因为1用了3替换,没有用2替换,所以下面的公式成立

$$
k_2+l_1 \times c_2 < k_3+l_1 \times c_3
$$

那么下面的公式也应该成立

$$
k_2+l_2 \times c_2 < k_3+l_2 \times c_3
$$

也可以按下面的想,先用一个2类的灯泡替换一个1类灯泡,总体花费可能减少了,但是这个灯泡最终来到3类.**那就是说用一个3类灯泡替换一个2类灯泡,总体花费会减少!**

### 最后:动态转移方程
根据上面的分析出来的性质,可以得到下面

设$f(i)$表示前$i$个种类的灯泡的最小花费,

$$
f(i) = min\{ f(j) + (s[i]-s[j])*c_i+k[i],\}
$$

$s[i]$表示前$i$种灯泡的总数,,边界$f(0) = 0$



## 代码

```c
<%-include("1.cpp")%>
```


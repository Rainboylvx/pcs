---
_id: "noip2018_pj-T4"
title: T4对称二叉树
date: 2019-11-23 14:28
update: 2019-11-23 14:28
author: Rainboy
source: 
    - 
      oj: luogu
      url: https://www.luogu.org/problem/P5018
---

@[toc]
## 解析1:暴搜

这个题目的核心在于**计算时间复杂度**,因为错误的世纪复杂度的计算,导致我思考的时间很长.下面给出我的想法,希望引起的大家的思考.


```viz-dot
<%- include("dot/t4_1.dot") %>
```

**基本的想法**:如何判断两个子树对称:

 1. **对应位置上的点的值相同**
 2. 对应位置上的点
    - 都存在
    - 都不存在

- 显然对于一个大小为$n$的子树,应该比较$n/2$次
- 显然一棵值全为1的满二叉树,比较次数最多

### 错误的想法

一个子树的比较$n/2$次,一共有n个点,总共运算$n^2/2$次,超时

### 正确的想法

子树的大小不能认为$n$,因为子树的大小从下到上看是逐渐增加的,考虑整棵树.

```viz-dot
<%- include("dot/t4_2.dot") %>
```

由上图可以知道:每一层的点为根的子树比较的次数的和为:$n/2$,一共有$log(n)$层,显然总的比较次数为$nlogn$,得出正确的时间复杂度.

## 代码1

::: fold
```c
<%- include("code/5018.cpp") %>
```
:::

## 解析2: 字符串hash

## 代码2

---
_id: "acwing-115"
title: "115. 给树染色"
date: 2023-06-28 17:54
update: 2023-06-28 17:54
author: Rainboy
tags: 
    - 贪心
source: 
    - 
      oj: acwing
      url: "https://www.acwing.com/problem/content/description/117/"
---

## 解析

类似于排队接水的问题的一个排队不等式,但是我们如果按类似的想法:

> 每次从可选点中选一个最大的点

但是这样是错的,样例就过不过,选的点的顺序如下:

```
idx: 1 2 4 3 5
val: 1 2 2 1 4
value = 35
```

但真正的答案是

```
idx: 1 3 5 2 4
val: 1 1 4 2 2
value = 33
```

显然,可以想到5号点的值很,虽然它的父亲3的值很小(1),应该存在一种优先级计算
的方法(应该是一种把所有的祖先都考虑到的方法),然后按优先级排序就可以了,
这种方法使`3,5`排在了前面

所以下面的任务就是找到这种方法. 而这正是**贪心**算法最难的地方:找到贪心策略.

我们需要一些数据来训练一下,我们的大脑


## 代码

```c
<%- include("2.cpp") %>
```

---
_id: "acwing-91"
title: "91. æœ€çŸ­Hamiltonè·¯å¾„"
date: 2023-06-23 00:36
update: 2023-06-23 00:36
author: Rainboy
tags: 
    - äºŒè¿›åˆ¶
    - çŠ¶æ€å‹ç¼©DP
source: 
    - 
      oj: acwing
      url: "https://www.acwing.com/problem/content/description/93/"
---

## è§£æ

é¢˜ç›®å¤§æ„:ä»20ç‚¹çš„å›¾é‡Œ,æ‰¾åˆ°æœ€çŸ­æœ‰è·¯å¾„,ä½¿æ¯ä¸ªç‚¹åªç»è¿‡ä¸€æ¬¡

å› ä¸ºç‚¹åªæœ‰20ä¸ª,å¯ä»¥ç”¨äºŒè¿›åˆ¶çŠ¶æ€å‹ç¼©.

å…±æœ‰`(1<<20)-1 = 1048575`ä¸ªè¡¨ç¤ºç‚¹çš„çŠ¶æ€

è®¾`f[state,j]`,è¡¨ç¤ºç°åœ¨çš„çŠ¶ä¸º`state`,ä¸”ç°åœ¨æ­£åœ¨`j`ç‚¹æ—¶çš„æœ€çŸ­è·¯å¾„,æ˜¾ç„¶`(state >>j) & 1  == 1`

é‚£ä¹ˆçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º

```
f[state1,j] = min{ f[state_2,k] + dis(j,k)}
```

å…¶ä¸­`(state_2 >> j) & 1 == 0, clear state1 at position j == state_2`

`state2 < state1` ,æ‰€ä»¥æˆ‘ä»¬ä»å°åˆ°å¤§æšä¸¾`state`

æ—¶é—´å¤æ‚åº¦ä¸º`( (1<<20)-1) *20 = 20971500 = 2 x 10^7`

> æœ€å‘çš„æ˜¯:æˆ‘æ²¡æœ‰è®¤çœŸçš„çœ‹é¢˜ç›®,åº”è¯¥èµ·ç‚¹æ˜¯0,ç»ˆç‚¹æ˜¯n-1,æˆ‘ç®—æˆä¸ºä»»æ„èµ·ç‚¹,ç»ˆç‚¹.
> å¯¼è‡´æˆ‘è°ƒè¯•äº†ä¸¤ä¸ªå°æ—¶ ğŸ˜¢

é™„ä¸€ä¸ªæˆ‘è°ƒè¯•æ—¶,ç”Ÿæˆçš„å›¾

![](./1.png)

## ä»£ç 

```c
<%- include("2.cpp") %>
```

---
_id: "acwing-105"
title: "七夕祭"
date: 2020-04-06 09:38
update: 2020-04-06 09:38
author: Rainboy
tags:
    - 贪心
catalog: 贪心
source: 
    - 
      oj: acwing
      url: https://www.acwing.com/problem/content/107/

---


@[toc]

## 分析


第一步分析: 

只考虑列,如果一行中相邻的两个点交换,只会影响列. 这是所有的前提


第二步分析: 


压缩所有的行,成为一行后

```
[1,2,3,4,5,6,7]
```

这个问题就变成了,在一个序列中,每一次只能相邻的点交换一个数,问最少交换多少次?

如果问题有解: 则`sum % size == 0` ,无解,`sum % size !=0`,即除不尽.

**这就是一个环形的均分纸牌问题**

第三步分析: 对普通均分纸牌的处理


序列中的每个数字减去平均值后,有正有负,显然,如果所有牌都移动完后,那么整个序列的所有值
都是0.

设$s[i] = \sum_{1}{i} a[i]$,也就是前缀和

那么答案(最少移动次数)就是$\sum_{1}{n}| s[i] |$,只就是前缀和的绝对值和


第四步分析: 环形均分纸牌的处理

从第k点切开环,组成新的序列,得到新的公式

$$
\sum_{1}{n} |s[i] - s[k]|
$$

这个公式代表的意思是,所有点i到点k的距离和.则选k为中位数,值最小.

## 代码

```c
<%- include("1.cpp") %>
```

